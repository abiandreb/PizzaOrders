<div class="min-h-screen bg-gray-50 text-gray-800">
  <app-header 
    (cartClick)="toggleCartVisibility()"
    (adminPanelClick)="toggleAdminPanel()"
    (authSuccess)="handleAuthSuccess($event)">
  </app-header>
  
  @if (isAdminPanelVisible()) {
    <app-admin-panel (closePanel)="toggleAdminPanel()"></app-admin-panel>
  } @else {
    <main class="container mx-auto px-4 py-8">
      <app-product-list (productSelected)="handleProductSelect($event)"></app-product-list>
    </main>
  }

  <app-cart 
    [isVisible]="isCartVisible()" 
    (closeCart)="toggleCartVisibility()"
    (checkoutSuccess)="handleCheckoutSuccess($event)">
  </app-cart>
  
  @if (isDetailModalVisible() && selectedProduct()) {
    <app-product-detail-modal 
      [product]="selectedProduct()!" 
      (closeModal)="closeDetailModal()"
      (addToCart)="addItemAndCloseModal($event)">
    </app-product-detail-modal>
  }

  @if (alert()) {
    <app-alert 
      [message]="alert()!.message" 
      [type]="alert()!.type"
      (close)="closeAlert()">
    </app-alert>
  }
</div>
